%! PS-Adobe-1.0
%%Creator: Daan van Berkel (daan.v.berkel.1980@gmail.com)
%%Advanced Problem Solving: Constraint Satisfaction Problems
%%Title: N-Queens
%%Pages: 5
%%EndComments

%%BeginProlog

/pagewidth 210 def
/pageheight 297 def

/initialize {
    75 25.1 div dup scale
    pagewidth 2 div pageheight 2 div translate
} def

/settings 0 dict def
settings begin
    /whitesquarefill 9 10 div def
    /blacksquarefill 1 10 div def
    /whitequeenfill 10 10 div def
    /blackqueenfill 0 10 div def
end

/square {
    [/width /y /x] dup length 0 add dict begin {exch def} forall
	x y moveto
	width 0 rlineto
	0 width rlineto
	width neg 0 rlineto
	closepath
    end
} def

/whitesquare {
    settings begin
	square
	gsave
	    whitesquarefill setgray
	    fill
	grestore
	stroke
    end
} def

/blacksquare {
    settings begin
	square
	gsave
	    blacksquarefill setgray
	    fill
	grestore
	stroke
    end
} def

/board {
    [/n /width /y /x] dup length 3 add dict begin {exch def} forall
	/squarewidth width n div def
	0 1 n 1 sub {
	    /j exch def
	    0 1 n 1 sub {
		/i exch def
		x i squarewidth mul add y j squarewidth mul add squarewidth
		i j add 2 mod 0 eq {
		    blacksquare
		} {
		    whitesquare
		} ifelse
	    } for
	} for
    end
} def

/queen {
    [/width /y /x] dup length 1 add dict begin {exch def} forall
	/unit width 22 div def
	x y moveto
	4 unit mul 2 unit mul rmoveto
	14 unit mul 0 rlineto
	2 unit mul neg 3 unit mul rlineto
	0 5 unit mul rlineto
	4 unit mul 8 unit mul rlineto
	6 unit mul neg 6 unit mul neg rlineto
	2 unit mul 7 unit mul rlineto
	4 unit mul neg 5 unit mul neg rlineto
	1 unit mul neg 6 unit mul rlineto
	1 unit mul neg 6 unit mul neg rlineto
	4 unit mul neg 5 unit mul rlineto
	2 unit mul 7 unit mul neg rlineto
	6 unit mul neg 6 unit mul rlineto
	4 unit mul 8 unit mul neg rlineto
	0 5 unit mul neg rlineto
	2 unit mul neg 3 unit mul neg rlineto
	closepath
    end
} def

/whitequeen {
    settings begin
	queen
	gsave
	    whitequeenfill setgray
	    fill
	grestore
	currentlinejoin
	2 setlinejoin
	stroke
	setlinejoin
    end
} def

/blackqueen {
    settings begin
	queen
	gsave
	    blackqueenfill setgray
	    fill
	grestore
	currentlinejoin
	2 setlinejoin
	stroke
	setlinejoin
    end
} def

/configuration {
    [/boardwidth /n] dup length 4 add dict begin {exch def} forall
	/squarewidth boardwidth n div def
	/x boardwidth 2 div neg def
	/y x squarewidth sub def

	x y boardwidth n board

	0 1 n 1 sub {
	    /i exch def
	    x i squarewidth mul add y n 1 add squarewidth mul add squarewidth blackqueen
	} for
    end
} def

%%EndProlog
%%Page: 4x4 1

save /cleanslate exch def

initialize

4 pagewidth 2 div configuration

showpage

cleanslate restore

%%PageTrailer
%%Page: 5x5 2

save /cleanslate exch def

initialize

5 pagewidth 2 div configuration

showpage

cleanslate restore

%%PageTrailer
%%Page: 6x6 3

save /cleanslate exch def

initialize

6 pagewidth 2 div configuration

showpage

cleanslate restore

%%PageTrailer
%%Page: 7x7 4

save /cleanslate exch def

initialize

7 pagewidth 2 div configuration

showpage

cleanslate restore

%%PageTrailer
%%Page: 8x8 5

save /cleanslate exch def

initialize

8 pagewidth 2 div configuration

showpage

cleanslate restore

%%PageTrailer
%%Trailer
%%EOF
